<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Star Wars Miniatures Collection</title>
  <link rel="stylesheet" href="css/style.css">
  <!-- Fonte tem√°tica Star Wars -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">

  <style>
    /* ===== BANNER HEADER ===== */
    .collection-header {
      position: relative;
      width: 100%;
      height: 240px; /* altura ligeiramente reduzida */
      background: linear-gradient(rgba(0,0,0,0.25), rgba(0,0,0,0.25)),
                  url("img/starwars-banner.jpg") center/cover no-repeat;
      display: flex;
      justify-content: flex-end; /* barra de pesquisa √† direita */
      align-items: center;
      padding: 10px 40px;
      border-bottom: 5px solid #B22222;
    }

    /* ===== T√çTULO ABAIXO DO BANNER ===== */
    .collection-title {
      text-align: center;
      font-size: 40px;
      color: #B22222;
      margin: 15px 0 10px 0;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
      letter-spacing: 1px;
      font-family: 'Orbitron', sans-serif;
      text-transform: uppercase;
    }

    /* ===== SEARCH BAR ===== */
    .search-bar {
      display: flex;
      align-items: center;
      gap: 10px;
      background-color: rgba(255, 255, 255, 0.95);
      padding: 6px 14px;
      border-radius: 25px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      backdrop-filter: blur(5px);
    }

    .search-bar input {
      border: none;
      outline: none;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 14px;
      width: 180px;
    }

    .search-bar button {
      background-color: #B22222;
      color: white;
      border: none;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      cursor: pointer;
      font-size: 16px;
      transition: background 0.3s;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .search-bar button:hover {
      background-color: #FF4C4C;
    }

    /* ===== GRID DOS ITENS ===== */
    .collection-items {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 35px;
      padding: 40px 20px;
      background-color: #fff;
    }

    .item-card {
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
      width: 250px;
      padding: 15px;
      text-align: center;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .item-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 25px rgba(0,0,0,0.25);
    }

    .item-card img {
      width: 100%;
      height: 180px;
      object-fit: contain; /* ajusta imagens sem cortar */
      border-radius: 12px;
      margin-bottom: 12px;
    }

    .item-card h3 {
      font-size: 18px;
      color: #B22222;
      margin-bottom: 6px;
    }

    .item-card p {
      font-size: 14px;
      color: #444;
      margin-bottom: 10px;
    }

    .item-info {
      display: flex;
      justify-content: space-around;
      margin-bottom: 10px;
      font-size: 13px;
      color: #333;
    }

    .item-card button {
      background-color: #B22222;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .item-card button:hover {
      background-color: #FF4C4C;
    }

    /* ===== BOT√ÉO ADD ITEM ===== */
    .add-item-btn {
      display: block;
      margin: 40px auto;
      background-color: #B22222;
      color: white;
      padding: 12px 25px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      transition: background 0.3s, transform 0.2s;
    }

    .add-item-btn:hover {
      background-color: #FF4C4C;
      transform: scale(1.05);
    }

    /* ===== RESPONSIVIDADE M√çNIMA ===== */
    @media (max-width: 600px) {
      .search-bar input {
        width: 120px;
      }
      .collection-header {
        padding: 10px 20px;
      }
    }
    /* ===== Toolbar (grid/list) ===== */
.collection-toolbar{
  max-width: 1200px;
  margin: 0 auto 10px auto;
  padding: 0 20px;
  display: flex;
  justify-content: flex-end;
}
.view-toggle{ display:inline-flex; gap:8px; }
.btn-view{
  background:#eee; border:1px solid #ddd; padding:8px 12px;
  border-radius:8px; cursor:pointer; font-size:14px;
}
.btn-view[aria-pressed="true"]{ background:#B22222; color:#fff; border-color:#B22222; }

/* ===== Vista GRELHA (mant√©m o que j√° tinhas) ===== */
.collection-items.grid-view{
  display:flex; flex-wrap:wrap; justify-content:center; gap:35px;
}
.collection-items.grid-view .item-card{ width:250px; text-align:center; }

/* ===== Vista LISTA (nova) ===== */
.collection-items.list-view{
  display:block; padding:20px 0;
}
.collection-items.list-view .item-card{
  display:grid;
  grid-template-columns: 160px 1fr auto; /* img | textos | bot√£o */
  gap:18px; align-items:center;
  width:min(1000px, 92%);
  margin:0 auto 18px auto;
  text-align:left;
  padding:18px 20px;
}
.collection-items.list-view .item-card img{
  height:140px; width:100%; object-fit:contain; border-radius:12px;
}
.collection-items.list-view .item-card h3{ margin:0 0 6px 0; font-size:20px; }
.collection-items.list-view .item-card p{ margin:0 0 10px 0; }
.collection-items.list-view .item-info{
  justify-content:flex-start; gap:16px; font-size:14px; margin:0;
}
.collection-items.list-view .item-card button{
  justify-self:end; padding:10px 16px;
}
.collection-items.list-view .item-card:hover{
  transform:none; box-shadow:0 6px 15px rgba(0,0,0,0.12);
}

@media (max-width: 700px){
  .collection-items.list-view .item-card{
    grid-template-columns: 120px 1fr;
    grid-template-rows: auto auto;
  }
  .collection-items.list-view .item-card button{
    grid-column: 1 / -1; justify-self:start;
  }
}
  </style>
</head>
<body>

  <!-- Banner -->
  <header class="collection-header">
    <div class="search-bar">
      <input type="text" placeholder="Search collections...">
      <button>üîç</button>
    </div>
  </header>
  
  <!-- T√≠tulo da cole√ß√£o -->
  <h1 class="collection-title">Star Wars Miniatures</h1>
  <!-- Toolbar: alternar vista -->
<div class="collection-toolbar">
  <div class="view-toggle" role="group" aria-label="View toggle">
    <button class="btn-view" data-view="grid" aria-pressed="true" title="Grid view">üî≤ Grid</button>
    <button class="btn-view" data-view="list" aria-pressed="false" title="List view">üìÉ List</button>
  </div>
</div>
  
<div class="collection-toolbar">
  <div class="view-toggle" role="group" aria-label="View toggle">
    <button class="btn-view" data-view="grid" aria-pressed="true" title="Grid view">üî≤ Grid</button>
    <button class="btn-view" data-view="list" aria-pressed="false" title="List view">üìÉ List</button>
  </div>

  <!-- SORT BY (colado aqui) -->
  <div class="sort-wrap">
    <label for="sortSelect">Sort by:</label>
    <select id="sortSelect">
      <option value="default">Default</option>
      <option value="ratingDesc">Rating (High ‚Üí Low)</option>
      <option value="priceAsc">Price (Low ‚Üí High)</option>
      <option value="priceDesc">Price (High ‚Üí Low)</option>
    </select>
  </div>
</div>

  <!-- Itens da cole√ß√£o -->
  <section class="collection-items grid-view">
    
    <div class="item-card" data-rating="9" data-price="25">
      <img src="img/luke.jpg" alt="Miniature of Luke Skywalker - Rebel Hero">
      <h3>Luke Skywalker</h3>
      <p>Rebel Hero</p>
      <div class="item-info">
        <span>‚≠ê 9/10</span>
        <span>üí∞ 25‚Ç¨</span>
      </div>
      <button>View Details</button>
    </div>

    <div class="item-card" data-rating="10" data-price="40">
      <img src="img/vader.jpg" alt="Miniature of Darth Vader - Sith Lord">
      <h3>Darth Vader</h3>
      <p>Sith Lord</p>
      <div class="item-info">
        <span>‚≠ê 10/10</span>
        <span>üí∞ 40‚Ç¨</span>
      </div>
      <button>View Details</button>
    </div>

    <div class="item-card" data-rating="8" data-price="30">
      <img src="img/leia.jpg" alt="Miniature of Princess Leia Organa - Rebel Leader">
      <h3>Princess Leia Organa</h3>
      <p>Rebel Leader</p>
      <div class="item-info">
        <span>‚≠ê 8/10</span>
        <span>üí∞ 30‚Ç¨</span>
      </div>
      <button>View Details</button>
    </div>

    <div class="item-card" data-rating="9" data-price="28">
      <img src="img/han.jpg" alt="Miniature of Han Solo - Smuggler & Pilot">
      <h3>Han Solo</h3>
      <p>Smuggler & Pilot</p>
      <div class="item-info">
        <span>‚≠ê 9/10</span>
        <span>üí∞ 28‚Ç¨</span>
      </div>
      <button>View Details</button>
    </div>

    <div class="item-card" data-rating="10" data-price="35">
      <img src="img/yoda.jpg" alt="Miniature of Yoda - Jedi Master">
      <h3>Yoda</h3>
      <p>Jedi Master</p>
      <div class="item-info">
        <span>‚≠ê 10/10</span>
        <span>üí∞ 35‚Ç¨</span>
      </div>
      <button>View Details</button>
    </div>

    <div class="item-card" data-rating="7" data-price="15">
      <img src="img/stormtrooper.jpg" alt="Miniature of Stormtrooper - Imperial Soldier">
      <h3>Stormtrooper</h3>
      <p>Imperial Soldier</p>
      <div class="item-info">
        <span>‚≠ê 7/10</span>
        <span>üí∞ 15‚Ç¨</span>
      </div>
      <button>View Details</button>
    </div>

    <div class="item-card" data-rating="9" data-price="22">
      <img src="img/r2d2.jpg" alt="Miniature of R2-D2 - Astromech Droid">
      <h3>R2-D2</h3>
      <p>Astromech Droid</p>
      <div class="item-info">
        <span>‚≠ê 9/10</span>
        <span>üí∞ 22‚Ç¨</span>
      </div>
      <button>View Details</button>
    </div>

    <div class="item-card" data-rating="10" data-price="60">
      <img src="img/falcon.jpg" alt="Miniature of Millennium Falcon - Corellian Freighter">
      <h3>Millennium Falcon</h3>
      <p>Corellian Freighter</p>
      <div class="item-info">
        <span>‚≠ê 10/10</span>
        <span>üí∞ 60‚Ç¨</span>
      </div>
      <button>View Details</button>
    </div>
      <div class="item-card" data-rating="8" data-price="30"> ‚Ä¶ </div>
<div class="item-card" data-rating="9" data-price="28"> ‚Ä¶ </div>
<div class="item-card" data-rating="10" data-price="35"> ‚Ä¶ </div>
<div class="item-card" data-rating="7" data-price="15"> ‚Ä¶ </div>
<div class="item-card" data-rating="9" data-price="22"> ‚Ä¶ </div>
<div class="item-card" data-rating="10" data-price="60"> ‚Ä¶ </div>

  </section>
  <script>
  // ----- SORTING (rating/price) -----
  const itemsContainer = document.querySelector('.collection-items');
  const sortSelect = document.getElementById('sortSelect');

  // guardar ordem original para "Default"
  const originalOrder = [...itemsContainer.children].map((el, idx) => {
    el.dataset.__index = idx;  // √≠ndice est√°vel
    return el;
  });

  // aplica ordena√ß√£o guardada (ou default)
  const savedSort = localStorage.getItem('collectionSort') || 'default';
  if (sortSelect) sortSelect.value = savedSort;
  applySort(savedSort);

  if (sortSelect) {
    sortSelect.addEventListener('change', () => applySort(sortSelect.value));
  }

  function applySort(mode){
    const cards = [...itemsContainer.querySelectorAll('.item-card')];
    let sorted = cards.slice();

    const byNum = (getter, dir=1) => (a,b) => (getter(a)-getter(b))*dir;

    switch(mode){
      case 'ratingDesc':
        sorted.sort(byNum(el => Number(el.dataset.rating) || 0, -1));
        break;
      case 'priceAsc':
        sorted.sort(byNum(el => Number(el.dataset.price) || 0, +1));
        break;
      case 'priceDesc':
        sorted.sort(byNum(el => Number(el.dataset.price) || 0, -1));
        break;
      default: // ordem original
        sorted.sort(byNum(el => Number(el.dataset.__index), +1));
    }

    const frag = document.createDocumentFragment();
    sorted.forEach(el => frag.appendChild(el));
    itemsContainer.appendChild(frag);

    localStorage.setItem('collectionSort', mode);
  }
</script>


  <!-- Bot√£o Add Item -->
  <button class="add-item-btn">‚ûï Add Item</button>
  
  <script>
  const container = document.querySelector('.collection-items');
  const buttons = document.querySelectorAll('.btn-view');

  // aplicar vista guardada (ou grelha por defeito)
  const saved = localStorage.getItem('collectionView') || 'grid';
  setView(saved);

  buttons.forEach(btn => {
    btn.addEventListener('click', () => setView(btn.dataset.view));
  });

  function setView(view){
    container.classList.toggle('grid-view', view === 'grid');
    container.classList.toggle('list-view', view === 'list');
    buttons.forEach(b => b.setAttribute('aria-pressed', String(b.dataset.view === view)));
    localStorage.setItem('collectionView', view);
  }
</script>

</body>
</html>
