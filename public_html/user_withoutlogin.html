

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Profile | My Collections</title>
  <link rel="stylesheet" href="css/user_view.css" />
</head>


<body>

  <!-- ===== NAVBAR  ===== -->
  <header class="navbar">
    <div class="navbar-logo">
      <a href="home.html">MyCollections</a>
    </div>

    <nav class="navbar-links">
      <a href="events.html" class="nav-link">Events</a>
      <a href="team.html" class="nav-link">Team</a>
    </nav>

    <div class="navbar-actions">
      <form class="navbar-search" action="#" method="GET">
        <input type="search" name="q" placeholder="Search collections..." />
        <button type="submit" class="search-btn" aria-label="Search">ðŸ”Ž</button>
      </form>

      <!-- substituÃ­mos o avatar por este botÃ£o -->
      <a href="login.html" class="signin-chip">Sign in</a>

      <!-- botÃ£o de modo noturno -->
      <button id="themeToggle" class="theme-toggle" type="button">ðŸŒ™</button>
    </div>
</header>


  <!-- ===== CONTEÃšDO DA PÃGINA ===== -->
  <div class="page-container">
    <main class="main-content">
      <div class="profile-header">
        <div class="profile-photo">
          <img src="img/ImagemPerfil.jpeg" alt="User Photo">
        </div>

        <div class="profile-meta">
          <h1 id="userName">User Name</h1>
          <p id="userEmail">user@email.com</p>
          <p class="user-extra-line">Collector Â· Lisbon, Portugal Â· Member since 2024</p>

          <div class="user-stats">
            <div class="user-stat">
              <span id="statCollections" class="user-stat-number">5</span>
              <span class="user-stat-label">Collections</span>
            </div>
            <div class="user-stat">
              <span id="statItems" class="user-stat-number">42</span>
              <span class="user-stat-label">Items</span>
            </div>
          </div>
        </div>
      </div>

      <!-- My Collections -->
      <section class="collections-section">
        <h2>My Collections</h2>
        <div class="collections-grid">
        </div>
      </section>
    </main>
  </div>

  <script src="js/data.js"></script>
  <script>
    const params   = new URLSearchParams(window.location.search);
    const userId   = parseInt(params.get("id")) || 1;
    const isPublic = params.get("public") === "1";

    const collectionPage = isPublic
      ? "collection_withoutlogin.html"
      : "collection.html";

    if (typeof users !== "undefined") {
      const user = users.find(u => u.id === userId) || users[0];
      document.getElementById("userName").textContent  = user ? user.name : "User Name";
      document.getElementById("userEmail").textContent = user
        ? `${user.name.toLowerCase().replace(" ", ".")}@gmail.com`
        : "user@email.com";
    }

    if (typeof collections !== "undefined") {
      const grid = document.querySelector(".collections-grid");
      const userCollections = collections.filter(c => c.userId === userId);

      if (grid && userCollections.length) {
        grid.innerHTML = userCollections.map(c => `
          <div class="collection-card">
            <img src="img/${c.name.toLowerCase().replace(/ /g, '')}.jpg" alt="${c.name}">
            <h3>${c.name}</h3>
            <p>${c.items ? c.items.length + ' items' : ''}</p>

            <div class="mini-carousel">
              <div class="mini-track">
                ${(c.items || []).slice(0, 5).map(item => `
                  <div class="mini-item">
                    <img src="${item.image || 'img/placeholder.jpg'}" alt="${item.name || ''}">
                  </div>
                `).join("")}
              </div>
            </div>

            <a href="${collectionPage}?id=${c.id}" class="btn-view">View Collection</a>
          </div>
        `).join("");
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".mini-carousel .mini-track").forEach(track => {
        track.innerHTML += track.innerHTML;
      });
    });
  </script>

  <footer class="footer">
    <p>Â© 2025 MyCollections | All rights reserved.</p>
  </footer>
  
  <script>
document.getElementById("themeToggle").addEventListener("click", () => {
    document.body.classList.toggle("dark-mode");
    // guarda a preferÃªncia
    if (document.body.classList.contains("dark-mode")) {
        localStorage.setItem("theme", "dark");
    } else {
        localStorage.removeItem("theme");
    }
});

// carrega o tema ao abrir a pÃ¡gina
if (localStorage.getItem("theme") === "dark") {
    document.body.classList.add("dark-mode");
}
</script>

  
</body>


</html>
